# æ·»åŠ é˜¿æ‹‰ä¼¯è¯­æ”¯æŒæŒ‡å—

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ TimeArea é¡¹ç›®ä¸­æ·»åŠ é˜¿æ‹‰ä¼¯è¯­ï¼ˆArabicï¼‰æ”¯æŒã€‚é˜¿æ‹‰ä¼¯è¯­æ˜¯ä¸€ç§ä»å³åˆ°å·¦ï¼ˆRTL - Right-to-Leftï¼‰çš„è¯­è¨€ï¼Œéœ€è¦ç‰¹æ®Šçš„é…ç½®å’Œå¤„ç†ã€‚

## é˜¿æ‹‰ä¼¯è¯­ç‰¹æ€§

- **è¯­è¨€ä»£ç **: `ar-SA`ï¼ˆæ²™ç‰¹é˜¿æ‹‰ä¼¯ï¼‰æˆ– `ar`ï¼ˆé€šç”¨é˜¿æ‹‰ä¼¯è¯­ï¼‰
- **æ–‡å­—æ–¹å‘**: ä»å³åˆ°å·¦ï¼ˆRTLï¼‰
- **å­—ç¬¦é›†**: é˜¿æ‹‰ä¼¯æ–‡å­—ç¬¦ï¼ˆéœ€è¦ç‰¹æ®Šå­—ä½“æ”¯æŒï¼‰
- **ç”¨æˆ·è¦†ç›–**: çº¦4.2äº¿æ½œåœ¨ç”¨æˆ·ï¼ˆä¸­ä¸œã€åŒ—éåœ°åŒºï¼‰

## å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºé˜¿æ‹‰ä¼¯è¯­ç¿»è¯‘æ–‡ä»¶

åœ¨ `src/i18n/locales/` ç›®å½•ä¸‹åˆ›å»º `ar-SA` æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºä»¥ä¸‹ç¿»è¯‘æ–‡ä»¶ï¼š

#### 1.1 åˆ›å»º `src/i18n/locales/ar-SA/common.json`

```json
{
  "appName": "TimeArea",
  "appDescription": "Ù†Ø¸Ø§Ù… Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø·Ù‚Ø³ Ù„Ù„Ø³ÙØ± Ù„Ù…Ø³Ø§ÙØ§Øª Ø·ÙˆÙŠÙ„Ø©",
  "loading": "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
  "error": "Ø®Ø·Ø£",
  "success": "Ù†Ø¬Ø­",
  "confirm": "ØªØ£ÙƒÙŠØ¯",
  "cancel": "Ø¥Ù„ØºØ§Ø¡",
  "delete": "Ø­Ø°Ù",
  "edit": "ØªØ¹Ø¯ÙŠÙ„",
  "save": "Ø­ÙØ¸",
  "search": "Ø¨Ø­Ø«",
  "back": "Ø±Ø¬ÙˆØ¹",
  "home": "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
  "submit": "Ø¥Ø±Ø³Ø§Ù„",
  "reset": "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†",
  "refresh": "ØªØ­Ø¯ÙŠØ«",
  "clear": "Ù…Ø³Ø­",
  "copy": "Ù†Ø³Ø®",
  "share": "Ù…Ø´Ø§Ø±ÙƒØ©",
  "favorite": "Ù…ÙØ¶Ù„Ø©",
  "settings": "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
  "close": "Ø¥ØºÙ„Ø§Ù‚",
  "ok": "Ù…ÙˆØ§ÙÙ‚",
  "yes": "Ù†Ø¹Ù…",
  "no": "Ù„Ø§"
}
```

#### 1.2 åˆ›å»º `src/i18n/locales/ar-SA/home.json`

```json
{
  "title": "Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø·Ù‚Ø³ Ù„Ù„Ø³ÙØ± Ù„Ù…Ø³Ø§ÙØ§Øª Ø·ÙˆÙŠÙ„Ø©",
  "description": "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ÙˆØ£ÙˆÙ‚Ø§Øª Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø§Ù„Ø·Ø±ÙŠÙ‚",
  "location": "Ø§Ù„Ù…ÙˆÙ‚Ø¹",
  "arrivalTime": "ÙˆÙ‚Øª Ø§Ù„ÙˆØµÙˆÙ„",
  "addWaypoint": "Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø·Ø© Ù…Ø±ÙˆØ±",
  "queryWeather": "Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø·Ù‚Ø³",
  "gpsLocation": "Ù…ÙˆÙ‚Ø¹ GPS",
  "quickTime": "ÙˆÙ‚Øª Ø³Ø±ÙŠØ¹",
  "batchImport": "Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ø¬Ù…Ø¹",
  "copyList": "Ù†Ø³Ø® Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",
  "routeManagement": "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø±Ù‚",
  "history": "Ø§Ù„Ø³Ø¬Ù„",
  "now": "Ø§Ù„Ø¢Ù†",
  "hoursLater": "Ø¨Ø¹Ø¯ {{count}} Ø³Ø§Ø¹Ø©",
  "hoursLater_plural": "Ø¨Ø¹Ø¯ {{count}} Ø³Ø§Ø¹Ø©",
  "locationPlaceholder": "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹",
  "datetimePlaceholder": "Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª",
  "deleteWaypoint": "Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‚Ø·Ø©",
  "noWeatherData": "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø·Ù‚Ø³",
  "queryFailed": "ÙØ´Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "locationRequired": "Ø§Ù„Ù…ÙˆÙ‚Ø¹ {{index}} Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙØ§Ø±ØºÙ‹Ø§",
  "timeRequired": "ÙˆÙ‚Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ {{index}} Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙØ§Ø±ØºÙ‹Ø§"
}
```

#### 1.3 åˆ›å»º `src/i18n/locales/ar-SA/history.json`

```json
{
  "title": "Ø§Ù„Ø³Ø¬Ù„",
  "description": "Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",
  "queryHistory": "Ø³Ø¬Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª",
  "popularLocations": "Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
  "statistics": "Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",
  "totalQueries": "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª",
  "successfulQueries": "Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù†Ø§Ø¬Ø­Ø©",
  "failedQueries": "Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ÙØ§Ø´Ù„Ø©",
  "successRate": "Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­",
  "averageQueryDuration": "Ù…ØªÙˆØ³Ø· Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "lastQueryTime": "ÙˆÙ‚Øª Ø¢Ø®Ø± Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "firstQueryTime": "ÙˆÙ‚Øª Ø£ÙˆÙ„ Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "replay": "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„",
  "clearAll": "Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„",
  "queryCount": "ØªÙ… Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… {{count}} Ù…Ø±Ø©",
  "lastQuery": "Ø¢Ø®Ø± Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "deleteConfirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„ØŸ",
  "clearAllConfirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø³Ø¬Ù„ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©!",
  "noHistory": "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¬Ù„ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª",
  "noLocations": "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ù‚Ø¹ Ø´Ø§Ø¦Ø¹Ø©",
  "waypoints": "Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø±ÙˆØ±",
  "queryDuration": "Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…",
  "success": "Ù†Ø¬Ø­",
  "failed": "ÙØ´Ù„"
}
```

#### 1.4 åˆ›å»º `src/i18n/locales/ar-SA/routes.json`

```json
{
  "title": "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø±Ù‚",
  "description": "Ø¥Ø¯Ø§Ø±Ø© Ø·Ø±Ù‚Ùƒ ÙˆØ§Ù„Ù‚ÙˆØ§Ù„Ø¨ ÙˆØ§Ù„Ù…ÙØ¶Ù„Ø©",
  "allRoutes": "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ø±Ù‚",
  "createRoute": "Ø¥Ù†Ø´Ø§Ø¡ Ø·Ø±ÙŠÙ‚",
  "routeName": "Ø§Ø³Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚",
  "waypoints": "Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø±ÙˆØ±",
  "waypointCount": "{{count}} Ù†Ù‚Ø·Ø© Ù…Ø±ÙˆØ±",
  "isTemplate": "Ù‚Ø§Ù„Ø¨",
  "isFavorite": "Ù…ÙØ¶Ù„Ø©",
  "share": "Ù…Ø´Ø§Ø±ÙƒØ©",
  "duplicate": "Ù†Ø³Ø®",
  "edit": "ØªØ¹Ø¯ÙŠÙ„",
  "delete": "Ø­Ø°Ù",
  "search": "Ø¨Ø­Ø« Ø¹Ù† Ø·Ø±Ù‚",
  "filterFavorite": "Ù…ÙØ¶Ù„Ø©",
  "filterTemplate": "Ù‚Ø§Ù„Ø¨",
  "sortBy": "ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨",
  "sortByName": "Ø§Ù„Ø§Ø³Ù…",
  "sortByCreated": "ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡",
  "sortByUpdated": "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø®Ø±Ù‹Ø§",
  "sortByFavorite": "Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹",
  "noRoutes": "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø±Ù‚",
  "noMatchRoutes": "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø·Ø±Ù‚ Ù…Ø·Ø§Ø¨Ù‚Ø©",
  "deleteConfirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ø±ÙŠÙ‚ØŸ",
  "shareSuccess": "ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©",
  "duplicateSuccess": "ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­",
  "setTemplate": "ØªØ¹ÙŠÙŠÙ† ÙƒÙ‚Ø§Ù„Ø¨",
  "cancelTemplate": "Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨",
  "templateSet": "ØªÙ… ØªØ¹ÙŠÙŠÙ†Ù‡ ÙƒÙ‚Ø§Ù„Ø¨",
  "templateCanceled": "ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨"
}
```

#### 1.5 åˆ›å»º `src/i18n/locales/ar-SA/cache.json`

```json
{
  "title": "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª",
  "description": "Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¤Ù‚ØªØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³ ÙˆØ§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ø£Ø®Ø±Ù‰",
  "cacheStatistics": "Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª",
  "l1CacheHits": "Ø¶Ø±Ø¨Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª L1",
  "l2CacheHits": "Ø¶Ø±Ø¨Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª L2",
  "totalHitRate": "Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ",
  "totalCacheItems": "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª",
  "searchCache": "Ø¨Ø­Ø« Ø¹Ù† Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª",
  "filterByType": "ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹",
  "allTypes": "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",
  "weather": "Ø§Ù„Ø·Ù‚Ø³",
  "geocode": "Ø§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ",
  "app": "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚",
  "other": "Ø£Ø®Ø±Ù‰",
  "cleanExpired": "ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©",
  "clearAll": "Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„",
  "clearWeather": "Ù…Ø³Ø­ ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ù…Ø¤Ù‚Øª",
  "clearGeocode": "Ù…Ø³Ø­ ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ø§Ù„Ù…Ø¤Ù‚Øª",
  "clearApp": "Ù…Ø³Ø­ ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø¤Ù‚Øª",
  "cacheKey": "Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª",
  "type": "Ø§Ù„Ù†ÙˆØ¹",
  "level": "Ø§Ù„Ù…Ø³ØªÙˆÙ‰",
  "expiresAt": "ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",
  "lastAccess": "Ø¢Ø®Ø± ÙˆØµÙˆÙ„",
  "accessCount": "Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØµÙˆÙ„",
  "expired": "Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",
  "cleanExpiredConfirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ ØªÙ†Ø¸ÙŠÙ ÙƒÙ„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØŸ",
  "clearAllConfirm": "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©!"
}
```

### æ­¥éª¤2ï¼šæ›´æ–° i18n é…ç½®æ–‡ä»¶

æ›´æ–° `src/i18n/index.ts`ï¼Œæ·»åŠ é˜¿æ‹‰ä¼¯è¯­æ”¯æŒï¼š

```typescript
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// å¯¼å…¥ä¸­æ–‡ç¿»è¯‘æ–‡ä»¶
import zhCNCommon from './locales/zh-CN/common.json';
import zhCNHome from './locales/zh-CN/home.json';
import zhCNHistory from './locales/zh-CN/history.json';
import zhCNRoutes from './locales/zh-CN/routes.json';
import zhCNCache from './locales/zh-CN/cache.json';

// å¯¼å…¥è‹±æ–‡ç¿»è¯‘æ–‡ä»¶
import enUSCommon from './locales/en-US/common.json';
import enUSHome from './locales/en-US/home.json';
import enUSHistory from './locales/en-US/history.json';
import enUSRoutes from './locales/en-US/routes.json';
import enUSCache from './locales/en-US/cache.json';

// å¯¼å…¥è¥¿ç­ç‰™è¯­ç¿»è¯‘æ–‡ä»¶
import esESCommon from './locales/es-ES/common.json';
import esESHome from './locales/es-ES/home.json';
import esESHistory from './locales/es-ES/history.json';
import esESRoutes from './locales/es-ES/routes.json';
import esESCache from './locales/es-ES/cache.json';

// å¯¼å…¥å°åœ°è¯­ç¿»è¯‘æ–‡ä»¶
import hiINCommon from './locales/hi-IN/common.json';
import hiINHome from './locales/hi-IN/home.json';
import hiINHistory from './locales/hi-IN/history.json';
import hiINRoutes from './locales/hi-IN/routes.json';
import hiINCache from './locales/hi-IN/cache.json';

// å¯¼å…¥é˜¿æ‹‰ä¼¯è¯­ç¿»è¯‘æ–‡ä»¶
import arSACommon from './locales/ar-SA/common.json';
import arSAHome from './locales/ar-SA/home.json';
import arSAHistory from './locales/ar-SA/history.json';
import arSARoutes from './locales/ar-SA/routes.json';
import arSACache from './locales/ar-SA/cache.json';

const resources = {
  'zh-CN': {
    common: zhCNCommon,
    home: zhCNHome,
    history: zhCNHistory,
    routes: zhCNRoutes,
    cache: zhCNCache,
  },
  'en-US': {
    common: enUSCommon,
    home: enUSHome,
    history: enUSHistory,
    routes: enUSRoutes,
    cache: enUSCache,
  },
  'es-ES': {
    common: esESCommon,
    home: esESHome,
    history: esESHistory,
    routes: esESRoutes,
    cache: esESCache,
  },
  'hi-IN': {
    common: hiINCommon,
    home: hiINHome,
    history: hiINHistory,
    routes: hiINRoutes,
    cache: hiINCache,
  },
  'ar-SA': {
    common: arSACommon,
    home: arSAHome,
    history: arSAHistory,
    routes: arSARoutes,
    cache: arSACache,
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: {
      'es-ES': ['es-ES', 'en-US', 'zh-CN'],
      'hi-IN': ['hi-IN', 'en-US', 'zh-CN'],
      'ar-SA': ['ar-SA', 'en-US', 'zh-CN'], // é˜¿æ‹‰ä¼¯è¯­å›é€€åˆ°è‹±æ–‡ï¼Œå†å›é€€åˆ°ä¸­æ–‡
      default: ['zh-CN', 'en-US'],
    },
    defaultNS: 'common',
    ns: ['common', 'home', 'history', 'routes', 'cache'],
    
    interpolation: {
      escapeValue: false,
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
      lookupLocalStorage: 'i18nextLng',
    },
  });

// ç›‘å¬è¯­è¨€å˜åŒ–ï¼Œæ›´æ–°HTML langå’Œdirå±æ€§
i18n.on('languageChanged', (lng) => {
  document.documentElement.lang = lng;
  // è®¾ç½®æ–‡å­—æ–¹å‘ï¼šé˜¿æ‹‰ä¼¯è¯­ä¸ºRTLï¼Œå…¶ä»–ä¸ºLTR
  document.documentElement.dir = lng.startsWith('ar') ? 'rtl' : 'ltr';
});

// åˆå§‹åŒ–æ—¶è®¾ç½®æ­£ç¡®çš„æ–¹å‘
if (typeof document !== 'undefined') {
  const currentLang = i18n.language || 'zh-CN';
  document.documentElement.dir = currentLang.startsWith('ar') ? 'rtl' : 'ltr';
}

export default i18n;
```

### æ­¥éª¤3ï¼šæ›´æ–° App.tsx ä»¥æ”¯æŒ RTL

æ›´æ–° `src/App.tsx`ï¼Œæ·»åŠ  Ant Design çš„é˜¿æ‹‰ä¼¯è¯­ locale å’Œ RTL æ”¯æŒï¼š

```typescript
import { BrowserRouter, Routes, Route, useLocation } from 'react-router-dom';
import { ConfigProvider } from 'antd';
import { HelmetProvider } from 'react-helmet-async';
import zhCN from 'antd/locale/zh_CN';
import enUS from 'antd/locale/en_US';
import esES from 'antd/locale/es_ES';
import arEG from 'antd/locale/ar_EG'; // Ant Design çš„é˜¿æ‹‰ä¼¯è¯­locale
import { useTranslation } from 'react-i18next';
import { Home } from './pages/Home';
import { History } from './pages/History';
import { Cache } from './pages/Cache';
import { Routes as RoutesPage } from './pages/Routes';
import { SEO } from './components/seo/SEO';
import { getPageSEOConfig, generateWebsiteStructuredData } from './utils/seo';
import './i18n';
import './App.css';

// Ant Design è¯­è¨€æ˜ å°„
const antdLocales: Record<string, any> = {
  'zh-CN': zhCN,
  'en-US': enUS,
  'es-ES': esES,
  'hi-IN': zhCN, // å°åœ°è¯­æš‚æ—¶ä½¿ç”¨ä¸­æ–‡locale
  'ar-SA': arEG, // é˜¿æ‹‰ä¼¯è¯­ä½¿ç”¨ Ant Design çš„é˜¿æ‹‰ä¼¯è¯­locale
};

// Ant Design LocaleåŒ…è£…ç»„ä»¶
const AntdLocaleProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { i18n } = useTranslation();
  const locale = antdLocales[i18n.language] || zhCN;
  const isRTL = i18n.language.startsWith('ar');

  return (
    <ConfigProvider 
      locale={locale}
      direction={isRTL ? 'rtl' : 'ltr'} // è®¾ç½®æ–¹å‘
    >
      {children}
    </ConfigProvider>
  );
};

// ... å…¶ä½™ä»£ç ä¿æŒä¸å˜
```

### æ­¥éª¤4ï¼šæ›´æ–°è¯­è¨€åˆ‡æ¢ç»„ä»¶

æ›´æ–° `src/components/common/LanguageSwitcher.tsx`ï¼Œæ·»åŠ é˜¿æ‹‰ä¼¯è¯­é€‰é¡¹ï¼š

```typescript
import React from 'react';
import { Select, Tooltip } from 'antd';
import { useTranslation } from 'react-i18next';
import { GlobalOutlined } from '@ant-design/icons';
import { isMobile } from '../../utils/mobile';

const { Option } = Select;

const languages = [
  { code: 'zh-CN', name: 'ä¸­æ–‡', nativeName: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'en-US', name: 'English', nativeName: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'es-ES', name: 'EspaÃ±ol', nativeName: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'hi-IN', name: 'Hindi', nativeName: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'ar-SA', name: 'Arabic', nativeName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' }, // æ–°å¢é˜¿æ‹‰ä¼¯è¯­
];

export const LanguageSwitcher: React.FC = () => {
  const { i18n } = useTranslation();
  const mobile = isMobile();

  const handleChange = (value: string) => {
    i18n.changeLanguage(value);
    // æ›´æ–°HTML langå’Œdirå±æ€§
    document.documentElement.lang = value;
    document.documentElement.dir = value.startsWith('ar') ? 'rtl' : 'ltr';
    // ä¿å­˜åˆ°localStorage
    localStorage.setItem('i18nextLng', value);
  };

  const currentLang = languages.find(lang => lang.code === i18n.language) || languages[0];

  return (
    <Tooltip title={mobile ? '' : 'é€‰æ‹©è¯­è¨€ / Select Language'}>
      <Select
        value={i18n.language}
        onChange={handleChange}
        style={{ width: mobile ? 100 : 140 }}
        size={mobile ? 'small' : 'middle'}
        suffixIcon={<GlobalOutlined />}
      >
        {languages.map((lang) => (
          <Option key={lang.code} value={lang.code}>
            <span style={{ marginRight: 8 }}>{lang.flag}</span>
            <span>{lang.nativeName}</span>
            {!mobile && lang.name !== lang.nativeName && (
              <span style={{ color: '#999', marginLeft: 4, fontSize: '12px' }}>
                ({lang.name})
              </span>
            )}
          </Option>
        ))}
      </Select>
    </Tooltip>
  );
};
```

### æ­¥éª¤5ï¼šæ·»åŠ é˜¿æ‹‰ä¼¯è¯­å­—ä½“æ”¯æŒ

#### æ–¹æ³•1ï¼šä½¿ç”¨ Google Fontsï¼ˆæ¨èï¼‰

åœ¨ `index.html` ä¸­æ·»åŠ ï¼š

```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;700&display=swap" rel="stylesheet">
```

#### æ–¹æ³•2ï¼šåœ¨ CSS ä¸­é…ç½®

åœ¨ `src/index.css` æˆ–å…¨å±€æ ·å¼æ–‡ä»¶ä¸­ï¼š

```css
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;700&display=swap');

body {
  font-family: 'Noto Sans Arabic', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* RTL å¸ƒå±€æ”¯æŒ */
[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

[dir="rtl"] .ant-layout,
[dir="rtl"] .ant-layout-header,
[dir="rtl"] .ant-layout-content,
[dir="rtl"] .ant-layout-footer {
  direction: rtl;
}

/* RTL ä¸‹çš„é—´è·è°ƒæ•´ */
[dir="rtl"] .ant-space-item:not(:last-child) {
  margin-left: 8px;
  margin-right: 0;
}
```

### æ­¥éª¤6ï¼šå¤„ç† RTL å¸ƒå±€çš„ç‰¹æ®Šæƒ…å†µ

#### 6.1 è‡ªå®šä¹‰æ ·å¼è°ƒæ•´

åˆ›å»º `src/styles/rtl.css`ï¼ˆå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼š

```css
/* RTL å¸ƒå±€æ ·å¼è°ƒæ•´ */

[dir="rtl"] {
  /* ç¡®ä¿æ‰€æœ‰æ–‡æœ¬å³å¯¹é½ */
  text-align: right;
}

[dir="rtl"] .ant-input,
[dir="rtl"] .ant-select-selector,
[dir="rtl"] .ant-picker {
  text-align: right;
}

/* å›¾æ ‡å’ŒæŒ‰é’®æ–¹å‘è°ƒæ•´ */
[dir="rtl"] .ant-btn-icon {
  margin-right: 0;
  margin-left: 8px;
}

/* åˆ—è¡¨é¡¹æ–¹å‘ */
[dir="rtl"] .ant-list-item {
  flex-direction: row-reverse;
}

/* è¡¨æ ¼æ–¹å‘ */
[dir="rtl"] .ant-table {
  direction: rtl;
}

[dir="rtl"] .ant-table-thead > tr > th {
  text-align: right;
}

/* å¡ç‰‡å†…å®¹æ–¹å‘ */
[dir="rtl"] .ant-card-body {
  direction: rtl;
}

/* æ ‡ç­¾é¡µæ–¹å‘ */
[dir="rtl"] .ant-tabs-tab {
  direction: rtl;
}

/* èœå•æ–¹å‘ */
[dir="rtl"] .ant-menu {
  direction: rtl;
  text-align: right;
}
```

åœ¨ `src/index.css` æˆ– `src/App.css` ä¸­å¯¼å…¥ï¼š

```css
@import './styles/rtl.css';
```

#### 6.2 ç»„ä»¶çº§åˆ«çš„ RTL å¤„ç†

å¯¹äºéœ€è¦ç‰¹æ®Šå¤„ç†çš„ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶æ ·å¼ï¼š

```typescript
import { useTranslation } from 'react-i18next';

const MyComponent: React.FC = () => {
  const { i18n } = useTranslation();
  const isRTL = i18n.language.startsWith('ar');

  return (
    <div style={{ 
      direction: isRTL ? 'rtl' : 'ltr',
      textAlign: isRTL ? 'right' : 'left'
    }}>
      {/* ç»„ä»¶å†…å®¹ */}
    </div>
  );
};
```

### æ­¥éª¤7ï¼šæµ‹è¯•é˜¿æ‹‰ä¼¯è¯­æ”¯æŒ

#### 7.1 åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] åˆ‡æ¢è¯­è¨€åˆ°é˜¿æ‹‰ä¼¯è¯­ï¼Œæ£€æŸ¥æ‰€æœ‰æ–‡æœ¬æ˜¯å¦æ­£ç¡®æ˜¾ç¤º
- [ ] æ£€æŸ¥å¸ƒå±€æ–¹å‘æ˜¯å¦æ­£ç¡®ï¼ˆä»å³åˆ°å·¦ï¼‰
- [ ] æ£€æŸ¥ Ant Design ç»„ä»¶æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºï¼ˆæŒ‰é’®ã€è¾“å…¥æ¡†ã€è¡¨æ ¼ç­‰ï¼‰
- [ ] æ£€æŸ¥å­—ä½“æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºé˜¿æ‹‰ä¼¯æ–‡å­—ç¬¦
- [ ] æ£€æŸ¥æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] æ£€æŸ¥è¡¨æ ¼å’Œåˆ—è¡¨çš„æ’åºå’Œæ–¹å‘
- [ ] æ£€æŸ¥å¯¼èˆªå’Œèœå•çš„æ–¹å‘
- [ ] æ£€æŸ¥å“åº”å¼å¸ƒå±€åœ¨ç§»åŠ¨ç«¯æ˜¯å¦æ­£å¸¸

#### 7.2 å¸¸è§é—®é¢˜æ’æŸ¥

**é—®é¢˜1ï¼šæ–‡å­—æ–¹å‘ä¸æ­£ç¡®**

- æ£€æŸ¥ `document.documentElement.dir` æ˜¯å¦è®¾ç½®ä¸º `rtl`
- æ£€æŸ¥ `ConfigProvider` çš„ `direction` å±æ€§æ˜¯å¦è®¾ç½®ä¸º `rtl`

**é—®é¢˜2ï¼šå­—ä½“æ˜¾ç¤ºä¸æ­£ç¡®**

- ç¡®è®¤å·²åŠ è½½ Noto Sans Arabic å­—ä½“
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰å­—ä½“åŠ è½½é”™è¯¯
- ç¡®è®¤ CSS ä¸­æ­£ç¡®è®¾ç½®äº†å­—ä½“æ—

**é—®é¢˜3ï¼šç»„ä»¶å¸ƒå±€é”™ä¹±**

- æ£€æŸ¥æ˜¯å¦æœ‰è‡ªå®šä¹‰æ ·å¼è¦†ç›–äº† RTL æ ·å¼
- ç¡®è®¤ Ant Design ç‰ˆæœ¬æ”¯æŒ RTLï¼ˆ4.0+ï¼‰
- æ£€æŸ¥æ˜¯å¦æœ‰å†…è”æ ·å¼ç¡¬ç¼–ç äº† `left` æˆ– `right`

**é—®é¢˜4ï¼šå›¾æ ‡æ–¹å‘ä¸æ­£ç¡®**

- Ant Design ä¼šè‡ªåŠ¨å¤„ç†å›¾æ ‡æ–¹å‘ï¼Œä½†æŸäº›è‡ªå®šä¹‰å›¾æ ‡å¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´
- ä½¿ç”¨ `dir="rtl"` æ—¶ï¼ŒæŸäº›å›¾æ ‡å¯èƒ½éœ€è¦é•œåƒ

### æ­¥éª¤8ï¼šæ€§èƒ½ä¼˜åŒ–

#### 8.1 å­—ä½“é¢„åŠ è½½

åœ¨ `index.html` çš„ `<head>` ä¸­æ·»åŠ ï¼š

```html
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;700&display=swap" as="style">
```

#### 8.2 æ¡ä»¶åŠ è½½å­—ä½“

åªåœ¨éœ€è¦æ—¶åŠ è½½é˜¿æ‹‰ä¼¯è¯­å­—ä½“ï¼š

```typescript
// åœ¨ i18n é…ç½®ä¸­
i18n.on('languageChanged', (lng) => {
  if (lng.startsWith('ar') && !document.getElementById('arabic-font')) {
    const link = document.createElement('link');
    link.id = 'arabic-font';
    link.rel = 'stylesheet';
    link.href = 'https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;700&display=swap';
    document.head.appendChild(link);
  }
});
```

## å®Œæ•´å®æ–½æ£€æŸ¥æ¸…å•

- [ ] åˆ›å»ºæ‰€æœ‰é˜¿æ‹‰ä¼¯è¯­ç¿»è¯‘æ–‡ä»¶ï¼ˆ5ä¸ªJSONæ–‡ä»¶ï¼‰
- [ ] æ›´æ–° `src/i18n/index.ts` æ·»åŠ é˜¿æ‹‰ä¼¯è¯­èµ„æº
- [ ] æ›´æ–° `src/App.tsx` æ·»åŠ  Ant Design é˜¿æ‹‰ä¼¯è¯­ locale
- [ ] æ›´æ–° `LanguageSwitcher` ç»„ä»¶æ·»åŠ é˜¿æ‹‰ä¼¯è¯­é€‰é¡¹
- [ ] æ·»åŠ é˜¿æ‹‰ä¼¯è¯­å­—ä½“æ”¯æŒï¼ˆNoto Sans Arabicï¼‰
- [ ] åˆ›å»º RTL æ ·å¼æ–‡ä»¶
- [ ] æµ‹è¯•æ‰€æœ‰é¡µé¢çš„ RTL å¸ƒå±€
- [ ] æµ‹è¯•æ‰€æœ‰ç»„ä»¶çš„ RTL æ˜¾ç¤º
- [ ] æµ‹è¯•ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€
- [ ] æ£€æŸ¥å­—ä½“åŠ è½½æ€§èƒ½

## æ³¨æ„äº‹é¡¹

1. **æ–‡å­—æ–¹å‘**: é˜¿æ‹‰ä¼¯è¯­æ˜¯ä»å³åˆ°å·¦çš„è¯­è¨€ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„å¸ƒå±€æ–¹å‘
2. **å­—ä½“æ”¯æŒ**: å¿…é¡»ä½¿ç”¨æ”¯æŒé˜¿æ‹‰ä¼¯æ–‡å­—ç¬¦çš„å­—ä½“ï¼Œæ¨è Noto Sans Arabic
3. **Ant Design RTL**: Ant Design 4.0+ ç‰ˆæœ¬åŸç”Ÿæ”¯æŒ RTLï¼Œç¡®ä¿ä½¿ç”¨æ­£ç¡®é…ç½®
4. **æµ‹è¯•è¦†ç›–**: RTL å¸ƒå±€å¯èƒ½å½±å“æ‰€æœ‰é¡µé¢ï¼Œéœ€è¦å…¨é¢æµ‹è¯•
5. **æ€§èƒ½è€ƒè™‘**: é˜¿æ‹‰ä¼¯è¯­å­—ä½“ä¼šå¢åŠ é¡µé¢åŠ è½½æ—¶é—´ï¼Œè€ƒè™‘ä½¿ç”¨å­—ä½“å­é›†æˆ–å»¶è¿ŸåŠ è½½

## å‚è€ƒèµ„æº

- [Ant Design RTL æ–‡æ¡£](https://ant.design/docs/react/i18n#RTL)
- [Noto Sans Arabic å­—ä½“](https://fonts.google.com/noto/specimen/Noto+Sans+Arabic)
- [i18next æ–‡æ¡£](https://www.i18next.com/)
- [RTL å¸ƒå±€æœ€ä½³å®è·µ](https://rtlstyling.com/)

## æ€»ç»“

é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯ä»¥æˆåŠŸä¸º TimeArea é¡¹ç›®æ·»åŠ é˜¿æ‹‰ä¼¯è¯­æ”¯æŒã€‚é˜¿æ‹‰ä¼¯è¯­çš„ç‰¹æ®Šæ€§ä¸»è¦åœ¨äº RTL å¸ƒå±€å’Œå­—ä½“æ”¯æŒï¼Œåªè¦æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ­£ç¡®é…ç½®ï¼Œå°±èƒ½å®ç°å®Œæ•´çš„é˜¿æ‹‰ä¼¯è¯­å›½é™…åŒ–æ”¯æŒã€‚

æ·»åŠ é˜¿æ‹‰ä¼¯è¯­åï¼Œé¡¹ç›®å°†æ”¯æŒäº”ç§è¯­è¨€ï¼š
- âœ… ä¸­æ–‡ï¼ˆzh-CNï¼‰
- âœ… è‹±æ–‡ï¼ˆen-USï¼‰
- âœ… è¥¿ç­ç‰™è¯­ï¼ˆes-ESï¼‰
- âœ… å°åœ°è¯­ï¼ˆhi-INï¼‰
- âœ… é˜¿æ‹‰ä¼¯è¯­ï¼ˆar-SAï¼‰

**æ€»è®¡è¦†ç›–çº¦44.2äº¿æ½œåœ¨ç”¨æˆ·**
